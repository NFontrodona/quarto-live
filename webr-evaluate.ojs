{
  const block_id = "{{block_id}}";
  const scriptContent = document.querySelector(`script[type=\"webr-${block_id}-contents\"]`).textContent;
  const block = JSON.parse(atob(scriptContent));

  // Evaluate the provided R code in the global environment
  const options = Object.assign(
    { envir: webROjs.webR.objs.globalEnv },
    block.attr
  );
  return webROjs.WebREvaluator.process(block.code, options);
}
